@media print {
  /* Hide navigation and interactive elements */
  .mantine-AppShell-header,
  .mantine-AppShell-navbar,
  .mantine-AppShell-aside,
  .print-hide,
  .drag-handle {
    display: none !important;
  }

  .mantine-AppShell-main {
    padding-top: 0 !important;
    min-height: auto !important;
  }

  .ProseMirror-selectednode {
    outline: none !important;
    box-shadow: none !important;
  }

  /* Force color printing for backgrounds */
  * {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    color-adjust: exact !important;
  }

  /* Ensure all editor node types are visible */
  .ProseMirror .react-renderer,
  .ProseMirror .node-callout,
  .ProseMirror .node-codeBlock,
  .ProseMirror .node-image,
  .ProseMirror .node-video,
  .ProseMirror .node-table,
  .ProseMirror .node-excalidraw,
  .ProseMirror .node-drawio,
  .ProseMirror [data-type="callout"],
  .ProseMirror [data-type="codeBlock"] {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
  }

  /* Code Block styles */
  .ProseMirror .codeBlock,
  .ProseMirror pre {
    display: block !important;
    visibility: visible !important;
    background-color: #f5f5f5 !important;
    border: 1px solid #ddd !important;
    border-radius: 4px !important;
    padding: 12px 16px !important;
    margin: 8px 0 !important;
    page-break-inside: avoid !important;
    break-inside: avoid !important;
    white-space: pre-wrap !important;
    word-wrap: break-word !important;
  }

  .ProseMirror pre code {
    display: block !important;
    visibility: visible !important;
    background: transparent !important;
    color: #333 !important;
    font-family: "Consolas", "Monaco", "Courier New", monospace !important;
    font-size: 13px !important;
    line-height: 1.5 !important;
  }

  /* Syntax highlighting for print */
  .ProseMirror pre .hljs-comment,
  .ProseMirror pre .hljs-quote {
    color: #6a737d !important;
  }

  .ProseMirror pre .hljs-keyword,
  .ProseMirror pre .hljs-selector-tag {
    color: #d73a49 !important;
  }

  .ProseMirror pre .hljs-string,
  .ProseMirror pre .hljs-symbol,
  .ProseMirror pre .hljs-bullet {
    color: #032f62 !important;
  }

  .ProseMirror pre .hljs-number,
  .ProseMirror pre .hljs-literal {
    color: #005cc5 !important;
  }

  .ProseMirror pre .hljs-title,
  .ProseMirror pre .hljs-section,
  .ProseMirror pre .hljs-name {
    color: #6f42c1 !important;
  }

  /* Inline code styles */
  .ProseMirror :not(pre) > code {
    display: inline !important;
    visibility: visible !important;
    background-color: #f0f0f0 !important;
    color: #e83e8c !important;
    padding: 2px 6px !important;
    border-radius: 3px !important;
    font-family: "Consolas", "Monaco", "Courier New", monospace !important;
    font-size: 0.9em !important;
  }

  /* Callout / Alert styles */
  .ProseMirror .mantine-Alert-root,
  .ProseMirror [class*="Alert"] {
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
    border-radius: 4px !important;
    padding: 12px 16px !important;
    margin: 8px 0 !important;
    page-break-inside: avoid !important;
    break-inside: avoid !important;
  }

  /* Callout color variants */
  .ProseMirror .mantine-Alert-root[data-variant="light"][data-color="blue"] {
    background-color: #e7f5ff !important;
    border-left: 4px solid #228be6 !important;
  }

  .ProseMirror .mantine-Alert-root[data-variant="light"][data-color="green"] {
    background-color: #ebfbee !important;
    border-left: 4px solid #40c057 !important;
  }

  .ProseMirror .mantine-Alert-root[data-variant="light"][data-color="orange"] {
    background-color: #fff4e6 !important;
    border-left: 4px solid #fd7e14 !important;
  }

  .ProseMirror .mantine-Alert-root[data-variant="light"][data-color="red"] {
    background-color: #fff5f5 !important;
    border-left: 4px solid #fa5252 !important;
  }

  .ProseMirror .mantine-Alert-root[data-variant="light"][data-color="gray"] {
    background-color: #f8f9fa !important;
    border-left: 4px solid #868e96 !important;
  }

  /* Callout icon and message */
  .ProseMirror .mantine-Alert-icon {
    display: flex !important;
    visibility: visible !important;
  }

  .ProseMirror .mantine-Alert-message {
    display: block !important;
    visibility: visible !important;
    white-space: normal !important;
  }

  /* Image styles */
  .ProseMirror img {
    display: block !important;
    visibility: visible !important;
    max-width: 100% !important;
    height: auto !important;
    page-break-inside: avoid !important;
    break-inside: avoid !important;
  }

  /* Table styles */
  .tableWrapper {
    overflow: visible !important;
    page-break-inside: auto !important;
  }

  .ProseMirror table {
    display: table !important;
    visibility: visible !important;
    border-collapse: collapse !important;
    width: 100% !important;
    page-break-inside: auto !important;
  }

  .ProseMirror table tr {
    page-break-inside: avoid !important;
    page-break-after: auto !important;
  }

  .ProseMirror table th,
  .ProseMirror table td {
    display: table-cell !important;
    visibility: visible !important;
    border: 1px solid #333 !important;
    padding: 8px 12px !important;
    text-align: left !important;
  }

  .ProseMirror table th {
    background-color: #f0f0f0 !important;
    font-weight: bold !important;
  }

  /* Hide table resize handles and selection indicators */
  .ProseMirror table .column-resize-handle,
  .ProseMirror table .selectedCell:after {
    display: none !important;
  }

  /* Excalidraw / Drawio diagram styles */
  .ProseMirror .node-excalidraw,
  .ProseMirror .node-drawio {
    display: block !important;
    visibility: visible !important;
    page-break-inside: avoid !important;
    break-inside: avoid !important;
  }

  .ProseMirror .node-excalidraw svg,
  .ProseMirror .node-drawio svg,
  .ProseMirror .node-excalidraw img,
  .ProseMirror .node-drawio img {
    display: block !important;
    visibility: visible !important;
    max-width: 100% !important;
    height: auto !important;
  }

  /* Blockquote styles */
  .ProseMirror blockquote {
    display: block !important;
    visibility: visible !important;
    border-left: 3px solid #ccc !important;
    background-color: #f9f9f9 !important;
    padding: 8px 16px !important;
    margin: 8px 0 !important;
    page-break-inside: avoid !important;
  }

  /* Hide interactive elements that shouldn't print */
  .ProseMirror .copy-button,
  .ProseMirror .toolbar,
  .ProseMirror .resize-handle,
  .ProseMirror .drag-handle,
  .ProseMirror [data-drag-handle],
  .ProseMirror .uploading-text,
  .ProseMirror .attachment-placeholder {
    display: none !important;
  }

  /* Mermaid diagram styles */
  .ProseMirror [data-type="mermaid"],
  .ProseMirror .mermaid {
    display: block !important;
    visibility: visible !important;
    page-break-inside: avoid !important;
    break-inside: avoid !important;
  }

  .ProseMirror [data-type="mermaid"] svg,
  .ProseMirror .mermaid svg {
    display: block !important;
    visibility: visible !important;
    max-width: 100% !important;
    height: auto !important;
  }

  /* Video placeholder for print */
  .ProseMirror .node-video {
    display: block !important;
    visibility: visible !important;
  }

  .ProseMirror .node-video video {
    display: none !important;
  }

  .ProseMirror .node-video::after {
    content: "[Video content - not printable]";
    display: block !important;
    padding: 20px !important;
    background-color: #f5f5f5 !important;
    border: 1px dashed #ccc !important;
    text-align: center !important;
    color: #666 !important;
    font-style: italic !important;
  }

  /* Ensure links are visible and show URL */
  .ProseMirror a {
    color: #0066cc !important;
    text-decoration: underline !important;
  }

  /* Page break utilities */
  .page-break-before {
    page-break-before: always !important;
  }

  .page-break-after {
    page-break-after: always !important;
  }

  .avoid-break {
    page-break-inside: avoid !important;
  }
}
